import{_ as O}from"./index-e015e1bc.js";import{_ as I,i as S,h as p,r as _,e as r,o as b,a as k,w as o,f as e,c as T,j as f}from"./index-116d1b68.js";const A=["src"],D={__name:"info",setup(G){const{proxy:F}=S(),c=p("first"),v=p("default"),g=p(),s=_({name:"",realName:""}),x=_({name:[{required:!0,message:"请输入用户名",trigger:"blur"}]}),V=(t,l)=>{c.value==="first"&&F.$get("/api/sumile-auth/oauth/user-info").then(d=>{Object.assign(s,d.data.data)})},C=async t=>{t&&await t.validate((l,d)=>{l?console.log("submit!"):console.log("error submit!",d)})},U=()=>{Object.assign(s,{name:"",realName:"",email:"",phone:" ",avatar:" "})},u=_({oldPassword:"",newPassword:"",newPassword1:""}),N=_({oldPassword:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"}],newPassword1:[{required:!0,message:"请输入确认密码",trigger:"blur"}]}),w=p(),j=async t=>{t&&await t.validate((l,d)=>{l?console.log("submit!"):console.log("error submit!",d)})},z=t=>{t&&(Object.assign(u,{oldPassword:"",newPassword:"",newPassword1:""}),t.resetFields())};return V(),(t,l)=>{const d=r("Plus"),R=r("el-icon"),$=r("el-upload"),n=r("el-form-item"),m=r("el-input"),i=r("el-button"),P=r("el-form"),y=r("el-tab-pane"),q=r("el-tabs"),B=O;return b(),k(B,{showFooter:!1},{default:o(()=>[e(q,{modelValue:c.value,"onUpdate:modelValue":l[10]||(l[10]=a=>c.value=a),class:"demo-tabs",onTabChange:V},{default:o(()=>[e(y,{label:"个人信息",name:"first"},{default:o(()=>[e(P,{ref_key:"ruleFormRef",ref:g,model:s,rules:x,"label-width":"120px",class:"demo-ruleForm",size:v.value,"status-icon":""},{default:o(()=>[e(n,{label:"头像",prop:"avatar"},{default:o(()=>[e($,{class:"avatar-uploader",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15","show-file-list":!1},{default:o(()=>[s.avatar?(b(),T("img",{key:0,src:s.avatar,class:"avatar"},null,8,A)):(b(),k(R,{key:1,class:"avatar-uploader-icon"},{default:o(()=>[e(d)]),_:1}))]),_:1})]),_:1}),e(n,{label:"姓名",prop:"realName"},{default:o(()=>[e(m,{modelValue:s.realName,"onUpdate:modelValue":l[0]||(l[0]=a=>s.realName=a)},null,8,["modelValue"])]),_:1}),e(n,{label:"用户名",prop:"name"},{default:o(()=>[e(m,{modelValue:s.name,"onUpdate:modelValue":l[1]||(l[1]=a=>s.name=a)},null,8,["modelValue"])]),_:1}),e(n,{label:"手机号",prop:"phone"},{default:o(()=>[e(m,{modelValue:s.phone,"onUpdate:modelValue":l[2]||(l[2]=a=>s.phone=a)},null,8,["modelValue"])]),_:1}),e(n,{label:"邮箱",prop:"email"},{default:o(()=>[e(m,{modelValue:s.email,"onUpdate:modelValue":l[3]||(l[3]=a=>s.email=a)},null,8,["modelValue"])]),_:1}),e(n,null,{default:o(()=>[e(i,{type:"primary",onClick:l[4]||(l[4]=a=>C(g.value))},{default:o(()=>[f("提交")]),_:1}),e(i,{onClick:U},{default:o(()=>[f("清空")]),_:1})]),_:1})]),_:1},8,["model","rules","size"])]),_:1}),e(y,{label:"修改密码",name:"second"},{default:o(()=>[e(P,{ref_key:"passwordFormRef",ref:w,model:u,rules:N,"label-width":"120px",class:"demo-ruleForm",size:v.value,"status-icon":""},{default:o(()=>[e(n,{label:"原密码",prop:"oldPassword"},{default:o(()=>[e(m,{modelValue:u.oldPassword,"onUpdate:modelValue":l[5]||(l[5]=a=>u.oldPassword=a),type:"password"},null,8,["modelValue"])]),_:1}),e(n,{label:"新密码",prop:"newPassword"},{default:o(()=>[e(m,{modelValue:u.newPassword,"onUpdate:modelValue":l[6]||(l[6]=a=>u.newPassword=a),type:"password"},null,8,["modelValue"])]),_:1}),e(n,{label:"确认密码",prop:"newPassword1"},{default:o(()=>[e(m,{modelValue:u.newPassword1,"onUpdate:modelValue":l[7]||(l[7]=a=>u.newPassword1=a),type:"password"},null,8,["modelValue"])]),_:1}),e(n,null,{default:o(()=>[e(i,{type:"primary",onClick:l[8]||(l[8]=a=>j(w.value))},{default:o(()=>[f("提交")]),_:1}),e(i,{onClick:l[9]||(l[9]=a=>z(w.value))},{default:o(()=>[f("清空")]),_:1})]),_:1})]),_:1},8,["model","rules","size"])]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},K=I(D,[["__scopeId","data-v-8e8730e4"],["__file","F:/online/project-vue3/src/views/user/info.vue"]]);export{K as default};
