import j from"./index-150b277b.js";import{r as b,a as m,g as K,o as f,b as M,w as l,d as t,e as n,t as _,f as i,c as Q,h as L,E as O,i as q,j as G,k as H,l as J,m as W,n as X}from"./index-80f93dc4.js";/* empty css                        */import Z from"./index-98c751b7.js";import ee from"./index-3caa3642.js";/* empty css                    */import te from"./index-bd826bbe.js";const oe={class:"sumile-table-alert mt-15px"},ae={class:"c-gray"},le={style:{color:"var(--el-color-primary-light-3)"}},ne={class:"c-black-085 ml-10px"},re={class:"mx-5px"},se={key:0,class:"sumile-pagination"},ye={__name:"list",setup(pe){const h=b({columns:[{label:"设备名称",prop:"name",type:"input"},{label:"设备编号",prop:"number",type:"input"},{label:"设备种类",prop:"category",type:"select",dictData:[{label:"动设备",value:1},{label:"静设备",value:2},{label:"电气设备",value:3}]},{label:"ABC分类",prop:"abc",type:"select",props:{label:"dictValue",value:"dictKey"},dictUrl:"/api/sumile-system/dict-biz/dictionary?code=abc_classify"},{label:"安装日期",prop:"date",type:"datepicker",props:{valueFormat:"YYYY-MM-DD"}},{label:"管理部门",prop:"manageDeptId",type:"tree",dictUrl:"/api/sumile-system/dept/tree?tenantId=000000",props:{nodeKey:"id",props:{label:"title"}}},{label:"安装位置",prop:"installPosition",slot:!0}]}),c=m({}),s=b({currentPage:1,pageSize:20}),p=m({total:0,records:[]}),g=m([]),y=m(),{proxy:v}=K();function u(){const e={...s,...c.value};console.log("params::",e),v.$get("/api/companies/page",e).then(({data:a})=>{p.value=a.data})}function C(e){s.pageSize=e,u()}function w(e){s.currentPage=e,u()}u();const P=e=>{u()},k=function(e){g.value=e},x=function(e){y.value.clearSelection()},D=e=>{console.log("click",e)},S=function(){},z=function(e){return[{label:"查看",icon:"Reading",type:"primary",operator:"show"},{label:"编辑",icon:"EditPen",type:"primary",operator:"edit",disabled:e===2},{label:"删除",icon:"Delete",type:"danger",operator:"delete"},{label:"打印",icon:"Printer",type:"primary",operator:"print"},{label:"导出",icon:"Download",type:"primary",operator:"export",show:e!==2}]};function E(e){return["未开始","进行中","出错"][e]}function V(e){return["#62A6ED","#47D56D","#E35A7C"][e]}return(e,a)=>{const B=O,U=Z,d=q,r=G,A=te,$=H,T=ee,I=J,N=W,Y=X,F=j;return f(),M(F,{"show-pagination":!!p.value.total},{search:l(()=>[t(U,{option:h,model:c.value,"onUpdate:model":a[1]||(a[1]=o=>c.value=o),onQueryChange:P},{installPosition:l(o=>[t(B,{placeholder:o.placeholder,modelValue:c.value.installPosition,"onUpdate:modelValue":a[0]||(a[0]=R=>c.value.installPosition=R)},null,8,["placeholder","modelValue"])]),_:1},8,["option","model"])]),operator:l(()=>[t(d,{type:"primary",icon:"Plus",onClick:S},{default:l(()=>[n("新增")]),_:1}),t(d,{type:"primary",icon:"Upload",plain:""},{default:l(()=>[n("导入")]),_:1}),t(d,{type:"danger",icon:"Delete",plain:""},{default:l(()=>[n("删除")]),_:1})]),default:l(()=>[t(I,{data:p.value.records,border:"",stripe:"",height:"100%",ref_key:"tableRef",ref:y,onSelectionChange:k},{default:l(()=>[t(r,{type:"selection",width:"55"}),t(r,{prop:"company",label:"公司","min-width":"150",width:"150"}),t(r,{prop:"content",label:"内容","show-overflow-tooltip":""}),t(r,{prop:"date",label:"日期",width:"150"}),t(r,{prop:"address",label:"地址",width:"200","show-overflow-tooltip":""}),t(r,{prop:"status",label:"状态",width:"120"},{default:l(({row:o})=>[t(A,{type:"primary",color:V(o.status)},{default:l(()=>[n(_(E(o.status)),1)]),_:2},1032,["color"])]),_:1}),t(r,{prop:"process",label:"进度",width:"150"},{default:l(({row:o})=>[t($,{percentage:o.process},null,8,["percentage"])]),_:1}),t(r,{fixed:"right",label:"操作",width:"160"},{default:l(({row:o})=>[t(T,{operators:z(o.status),onClick:D},null,8,["operators"])]),_:1})]),_:1},8,["data"]),i("div",oe,[t(N,null,{default:l(()=>[i("div",null,[i("span",ae,[n("已选择"),i("span",le,_(g.value.length),1),n("项")]),i("span",ne,[n("共计"),i("span",re,_(p.value.total),1),n("条数据")])]),t(d,{type:"primary",text:"",onClick:a[2]||(a[2]=o=>x())},{default:l(()=>[n(" 清空已选 ")]),_:1})]),_:1})]),p.value.total?(f(),Q("div",se,[t(Y,{"current-page":s.currentPage,"onUpdate:currentPage":a[3]||(a[3]=o=>s.currentPage=o),"page-size":s.pageSize,"onUpdate:pageSize":a[4]||(a[4]=o=>s.pageSize=o),"page-sizes":[10,20,50,100],layout:"prev, pager, next, sizes, jumper",total:p.value.total,"hide-on-single-page":"",onSizeChange:C,onCurrentChange:w},null,8,["current-page","page-size","total"])])):L("",!0)]),_:1},8,["show-pagination"])}}};export{ye as default};
